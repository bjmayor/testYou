<?php/** *  * * @author shunping.liu@huangjinqianbao.com * @version $Id$ * @copyright shunping.liu@huangjinqianbao.com, 06 一月, 2016 * @package default **/class Question_model extends MY_Model {    public static $TBNAME="question";    public $id;//自增id    public $pid;//父问题id    public $title;//问题    public $description;//问题描述    public $img;//问题图片    public $next_id;//下一题编号    public $pre_id;//上一题编号    public $meta_id;//媒体id    public $question_type;//问题类型，1单选，2跳转,3算分    public $question_category_id;//分类id    public $create_date;//创建时间    public $publish_status;//发布状态 -1 未发布；0  正常;1删除    public $visit_count;//访问数量    public $sub_label_id;//子问题编号,显示给用户看    public function __construct()    {        $this->load->database();    }    /*     * 创建基本问题     */    public function insert_question($title,$description,$img,$question_type,$question_category_id)    {        $data = array('title'=>$title,                    'description'=>$description,                    'img'=>$img,                    'question_type'=>$question_type,                    'question_category_id'=>$question_category_id);        $this->db->insert(self::$TBNAME,$data);    }    public function update_question($options = array())    {        if(!$this->_required(array("question_id")))            return false;        $qualificationArray = array('pid', 'title', 'description','img','next_id','pre_id','meta_id','question_type','question_category_id','publish_status','visit_count','sub_label_id');        foreach($qualificationArray as $qualifier)        {            if(isset($options[$qualifier]))                 $this->db->set($qualifier, $options[$qualifier]);        }        $this->db->where('id',$options['question_id']);        $this->db->update(self::$TBNAME);        return $this->db->affected_rows();            }    /**     * 获取分页结果     */    public function getPage($page,$num,$category, $publish_status=0)    {        $query = $this->db->get_where(self::$TBNAME,array("question_category_id"=>$category,'publish_status'=>$publish_status),$num,$page*$num);        return $query->result_array();    }}?>